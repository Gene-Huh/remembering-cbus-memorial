(function(t){function e(e){for(var n,o,i=e[0],c=e[1],u=e[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/remembering-cbus-memorial/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("v-card",{staticClass:"mx-auto",attrs:{elevation:"3"}},[a("img",{ref:"cbus",attrs:{src:t.cbus,alt:"Columbus Skyline",width:"100%"}}),a("v-card-title",{staticClass:"d-flex justify-space-between"},[a("v-col",{staticClass:"text-center"},[a("span",[t._v("Date")])]),a("v-col",{staticClass:"text-center"},[a("span",[t._v("New Deaths")])]),a("v-col",{staticClass:"text-center"},[a("span",[t._v("Cumulative Deaths")])])],1),a("v-card-subtitle",{staticClass:"d-flex justify-space-between"},[a("v-col",{staticClass:"text-center"},[a("span",{staticClass:"title"},[t._v(t._s(t.displayDate))])]),a("v-col",{staticClass:"text-center"},[a("span",{staticClass:"title"},[t._v(t._s(t.displayNewDeaths))])]),a("v-col",{staticClass:"text-center"},[a("span",{staticClass:"title"},[t._v(t._s(t.displayCumulativeDeaths))])])],1),a("v-container",{attrs:{width:"80%"}},[a("v-slider",{attrs:{color:t.color,"track-color":"grey",min:"0",max:t.dateCountTotals.length-1},on:{change:function(e){return t.selectDate()}},model:{value:t.selectedDay,callback:function(e){t.selectedDay=e},expression:"selectedDay"}})],1),t._l(t.stars,(function(t){return a("div",{key:t.date,class:t.class,style:"left:"+t.style.left+"px; top:"+t.style.top+"px;"})}))],2)],1)},s=[],o=(a("4160"),a("a15b"),a("d81d"),a("13d5"),a("4fad"),a("159b"),a("96cf"),a("1da1")),i=a("3835"),c=a("bc3a"),u=a.n(c),l=a("cb27"),d=a.n(l),f={name:"cbus-remembers",data:function(){return{cbus:d.a,color:"blue",dataURL:"http://covid.maxheckel.me/api/counties/deaths?counties=",counties:["Franklin","Delaware","Hocking","Fairfield","Knox","Licking","Montgomery","Madison","Marion","Perry","Pickaway","Union"],totalDeaths:0,dailyDeaths:[],stars:[],selectedDay:0}},computed:{dateCountTotals:function(){var t=0;return this.dailyDeaths.map((function(e){return t+=e.count,{date:e.date,newDeaths:e.count,cumulativeDeaths:t}}))},displayDate:function(){var t,e=new Date(null===(t=this.dateCountTotals[this.selectedDay])||void 0===t?void 0:t.date);return e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},displayNewDeaths:function(){var t;return null===(t=this.dateCountTotals[this.selectedDay])||void 0===t?void 0:t.newDeaths},displayCumulativeDeaths:function(){var t;return null===(t=this.dateCountTotals[this.selectedDay])||void 0===t?void 0:t.cumulativeDeaths},skyHeight:function(){return this.$refs.cbus.clientHeight},skyWidth:function(){return this.$refs.cbus.clientWidth}},methods:{selectDate:function(){this.stars=[];for(var t=0;t<this.dateCountTotals[this.selectedDay].cumulativeDeaths;t++)this.stars.push({class:"old-star",style:{left:this.randomX(),top:this.randomY()}})},addCountyToCentralOhioTotals:function(t){var e={};return t.forEach((function(t){for(var a=0,n=Object.entries(t);a<n.length;a++){var r=Object(i["a"])(n[a],2),s=r[0],o=r[1];e[s]?e[s]+=o:e[s]=o}})),e},compressDeathData:function(t){for(var e=this.getDaysFromData(t.counties),a=this.addCountyToCentralOhioTotals(e),n=[],r=0,s=Object.entries(a);r<s.length;r++){var o=Object(i["a"])(s[r],2),c=o[0],u=o[1];n.push({date:c,count:u})}return this.sortDaysAscending(n)},countyReducer:function(t){return t?t.reduce((function(t,e){return t[e.date],t[e.date]=e.count,t}),{}):[]},getDaysFromData:function(t){var e=this;return t.map((function(t){return e.countyReducer(t.days)}))},randomX:function(){return Math.floor(Math.random()*this.skyWidth)},randomY:function(){return Math.floor(Math.random()*this.skyHeight*.7)},sortDaysAscending:function(t){return t.sort((function(t,e){return new Date(t.date)-new Date(e.date)}))},increment:function(){this.selectedDay++},decrement:function(){this.selectedDay--}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="https://cors-anywhere.herokuapp.com/",n=t.dataURL+t.counties.join(","),e.next=4,u.a.get(a+n);case 4:r=e.sent,t.totalDeaths=r.data.total,t.dailyDeaths=t.compressDeathData(r.data);case 7:case"end":return e.stop()}}),e)})))()}},h=f,p=(a("034f"),a("2877")),v=a("6544"),y=a.n(v),m=a("7496"),b=a("b0af"),D=a("99d9"),g=a("62ad"),C=a("a523"),w=a("ba0d"),x=Object(p["a"])(h,r,s,!1,null,null,null),j=x.exports;y()(x,{VApp:m["a"],VCard:b["a"],VCardSubtitle:D["a"],VCardTitle:D["b"],VCol:g["a"],VContainer:C["a"],VSlider:w["a"]});var O=a("f309");n["a"].use(O["a"]);var k=new O["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:k,render:function(t){return t(j)}}).$mount("#app")},"85ec":function(t,e,a){},cb27:function(t,e,a){t.exports=a.p+"img/CBUS-memorial-photo.da007779.jpg"}});
//# sourceMappingURL=app.a12824b8.js.map